;;;; doukaku-289.lisp

(cl:in-package :doukaku-289-internal)

(def-suite doukaku-289)

(in-suite doukaku-289)

(defun |yyyymmdd = ddmmmmdd| ()
  (let ((start (encode-universal-time 0 0 0 1 1 2004))
        (end (encode-universal-time 0 0 0 31 12 2004))
        (step (* 60 60 24)))
    (do ((d start (+ step d))
         (ans () ))
        ((< end d)
         (nreverse ans))
      (let* ((utlist (multiple-value-list (decode-universal-time d)))
             (mmdd (format nil
                           "~2,'0D~2,'0D"
                           (fifth utlist)
                           (fourth utlist))))
        (push (concatenate 'string (reverse mmdd) mmdd)
              ans)))))

(test :doukaku-289
  (is (= 366 (length (|yyyymmdd = ddmmmmdd|))))
  (is (equal
       (|yyyymmdd = ddmmmmdd|)
       '("10100101" "20100102" "30100103" "40100104" "50100105" "60100106" "70100107" "80100108" "90100109" "01100110" "11100111" "21100112" "31100113" "41100114"
 "51100115" "61100116" "71100117" "81100118" "91100119" "02100120" "12100121" "22100122" "32100123" "42100124" "52100125" "62100126" "72100127" "82100128"
 "92100129" "03100130" "13100131" "10200201" "20200202" "30200203" "40200204" "50200205" "60200206" "70200207" "80200208" "90200209" "01200210" "11200211"
 "21200212" "31200213" "41200214" "51200215" "61200216" "71200217" "81200218" "91200219" "02200220" "12200221" "22200222" "32200223" "42200224" "52200225"
 "62200226" "72200227" "82200228" "92200229" "10300301" "20300302" "30300303" "40300304" "50300305" "60300306" "70300307" "80300308" "90300309" "01300310"
 "11300311" "21300312" "31300313" "41300314" "51300315" "61300316" "71300317" "81300318" "91300319" "02300320" "12300321" "22300322" "32300323" "42300324"
 "52300325" "62300326" "72300327" "82300328" "92300329" "03300330" "13300331" "10400401" "20400402" "30400403" "40400404" "50400405" "60400406" "70400407"
 "80400408" "90400409" "01400410" "11400411" "21400412" "31400413" "41400414" "51400415" "61400416" "71400417" "81400418" "91400419" "02400420" "12400421"
 "22400422" "32400423" "42400424" "52400425" "62400426" "72400427" "82400428" "92400429" "03400430" "10500501" "20500502" "30500503" "40500504" "50500505"
 "60500506" "70500507" "80500508" "90500509" "01500510" "11500511" "21500512" "31500513" "41500514" "51500515" "61500516" "71500517" "81500518" "91500519"
 "02500520" "12500521" "22500522" "32500523" "42500524" "52500525" "62500526" "72500527" "82500528" "92500529" "03500530" "13500531" "10600601" "20600602"
 "30600603" "40600604" "50600605" "60600606" "70600607" "80600608" "90600609" "01600610" "11600611" "21600612" "31600613" "41600614" "51600615" "61600616"
 "71600617" "81600618" "91600619" "02600620" "12600621" "22600622" "32600623" "42600624" "52600625" "62600626" "72600627" "82600628" "92600629" "03600630"
 "10700701" "20700702" "30700703" "40700704" "50700705" "60700706" "70700707" "80700708" "90700709" "01700710" "11700711" "21700712" "31700713" "41700714"
 "51700715" "61700716" "71700717" "81700718" "91700719" "02700720" "12700721" "22700722" "32700723" "42700724" "52700725" "62700726" "72700727" "82700728"
 "92700729" "03700730" "13700731" "10800801" "20800802" "30800803" "40800804" "50800805" "60800806" "70800807" "80800808" "90800809" "01800810" "11800811"
 "21800812" "31800813" "41800814" "51800815" "61800816" "71800817" "81800818" "91800819" "02800820" "12800821" "22800822" "32800823" "42800824" "52800825"
 "62800826" "72800827" "82800828" "92800829" "03800830" "13800831" "10900901" "20900902" "30900903" "40900904" "50900905" "60900906" "70900907" "80900908"
 "90900909" "01900910" "11900911" "21900912" "31900913" "41900914" "51900915" "61900916" "71900917" "81900918" "91900919" "02900920" "12900921" "22900922"
 "32900923" "42900924" "52900925" "62900926" "72900927" "82900928" "92900929" "03900930" "10011001" "20011002" "30011003" "40011004" "50011005" "60011006"
 "70011007" "80011008" "90011009" "01011010" "11011011" "21011012" "31011013" "41011014" "51011015" "61011016" "71011017" "81011018" "91011019" "02011020"
 "12011021" "22011022" "32011023" "42011024" "52011025" "62011026" "72011027" "82011028" "92011029" "03011030" "13011031" "10111101" "20111102" "30111103"
 "40111104" "50111105" "60111106" "70111107" "80111108" "90111109" "01111110" "11111111" "21111112" "31111113" "41111114" "51111115" "61111116" "71111117"
 "81111118" "91111119" "02111120" "12111121" "22111122" "32111123" "42111124" "52111125" "62111126" "72111127" "82111128" "92111129" "03111130" "10211201"
 "20211202" "30211203" "40211204" "50211205" "60211206" "70211207" "80211208" "90211209" "01211210" "11211211" "21211212" "31211213" "41211214" "51211215"
 "61211216" "71211217" "81211218" "91211219" "02211220" "12211221" "22211222" "32211223" "42211224" "52211225" "62211226" "72211227" "82211228" "92211229"
 "03211230" "13211231"))))
